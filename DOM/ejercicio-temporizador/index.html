<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomodoro</title>
</head>

<body>
    <h1>Pomodoro</h1>
    
    <div id="timer"></div>
    <label for="init-time-input">Tiempo inicial en segundos</label><br>
    <input id="init-time-input" type="text">
    <button id="btn-start">Start</button>
    <script>
        let timeLeft = 10;//TODO leer este valor desde un input
        const display = document.querySelector("#timer");
        //const display = document.getElementById("timer");
        const btnStart = document.querySelector("#btn-start");

        //btnStart.addEventListener("click", function () {
        btnStart.addEventListener("click", () =>
        {
            console.log("Start counter");
            start(timeLeft);
        })

        function updateDisplay(seconds)
        {
            display.textContent = seconds
        }

        function start(seconds)
        {
            updateDisplay(seconds);
            const countDown = setInterval(() =>
            {
                if (seconds > 0)
                {
                    console.clear();
                    console.log(seconds);
                    seconds--
                    updateDisplay(seconds)
                }
                else
                {
                    clearInterval(countDown)
                    alert(" se acab√≥ el tiempo!!")//Crear otro elemento en el DOM para mostrar el mensaje   
                }

            }, 1000);
        }

        updateDisplay(timeLeft);

    </script>
</body>

</html>